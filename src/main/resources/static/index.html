<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>病例管理系统</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- Le styles -->



    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/loader-style.css">
    <link rel="stylesheet" href="assets/css/bootstrap.css">

    <link rel="stylesheet" type="text/css" href="assets/js/progress-bar/number-pb.css">


    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- Fav and touch icons -->
    <link rel="shortcut icon" href="assets/ico/minus.png">
</head>

<body>
<!-- Preloader -->
<div id="preloader">
    <div id="status">&nbsp;</div>
</div>
<!-- TOP NAVBAR -->
<nav role="navigation" class="navbar navbar-static-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" class="navbar-toggle" type="button">
                <span class="entypo-menu"></span>
            </button>
            <button class="navbar-toggle toggle-menu-mobile toggle-left" type="button">
                <span class="entypo-list-add"></span>
            </button>




            <div id="logo-mobile" class="visible-xs">
                <h1>WEB管理<span>v1.0</span></h1>
            </div>

        </div>


        <!-- Collect the nav links, forms, and other content for toggling -->
        <div id="bs-example-navbar-collapse-1" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">


            </ul>
            <div id="nt-title-container" class="navbar-left running-text visible-lg">
                <ul class="date-top">
                    <li class="entypo-calendar" style="margin-right:5px"></li>
                    <li id="Date"></li>

                </ul>

                <ul id="digital-clock" class="digital">
                    <li class="entypo-clock" style="margin-right:5px"></li>
                    <li class="hour"></li>
                    <li>:</li>
                    <li class="min"></li>
                    <li>:</li>
                    <li class="sec"></li>
                    <li class="meridiem"></li>
                </ul>
                <ul id="nt-title">

                </ul>
            </div>

            <ul style="margin-right:0;" class="nav navbar-nav navbar-right">
                <li>
                    <ul role="menu" class="dropdown-setting dropdown-menu">

                        <li class="theme-bg">
                        </li>
                    </ul>
                </li>
                <li class="hidden-xs">
                    <a class="toggle-left" href="#">
                        <span style="font-size:20px;" class="entypo-list-add"></span>
                    </a>
                </li>
            </ul>

        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container-fluid -->
</nav>

<!-- /END OF TOP NAVBAR -->

<!-- SIDE MENU -->
<div id="skin-select">
    <div id="logo">
        <h1>病例管理<span>V1.0</span></h1>
    </div>

    <a id="toggle">
        <span class="entypo-menu"></span>
    </a>
    <div class="dark">
        <form action="#">
                <span>
                    <input type="text" name="search" value="" class="search rounded id_search" placeholder="Search Menu..." autofocus="">
                </span>
        </form>
    </div>

    <div class="search-hover">
        <form id="demo-2">
            <input type="search" placeholder="Search Menu..." class="id_search">
        </form>
    </div>


    <div class="skin-part">
        <div id="tree-wrap">
            <div class="side-bar">
                <ul id="menuPanel" class="topnav menu-left-nest">

                </ul>
            </div>
        </div>
    </div>


</div>
<!-- END OF SIDE MENU -->



<!--  PAPER WRAP -->
<div class="wrap-fluid">
    <div class="container-fluid paper-wrap bevel tlbr">

        <!-- CONTENT -->
        <!--TITLE -->
        <div class="row">
            <div id="paper-top">
                <div class="col-lg-3">
                    <h2 class="tittle-content-header">
                        <i class="icon-window"></i>
                        <span>Dashboard
                            </span>
                    </h2>

                </div>

                <div class="col-lg-7">
                    <div class="devider-vertical visible-lg"></div>
                    <div class="tittle-middle-header">

                        <div class="alert">
                            <button type="button" class="close" data-dismiss="alert">×</button>
                            <span class="tittle-alert entypo-info-circled"></span>
                            Welcome back,&nbsp;
                            <strong>病例管理系统!</strong>&nbsp;&nbsp;
                        </div>


                    </div>

                </div>
                <div class="col-lg-2">
                    <div class="devider-vertical visible-lg"></div>
                    病例管理系统

                </div>
            </div>
        </div>
        <!--/ TITLE -->

        <!-- BREADCRUMB -->
        <ul id="breadcrumb">
            <li>
                <span class="entypo-home"></span>
            </li>
            <li><i class="fa fa-lg fa-angle-right"></i>
            </li>
            <li><a href="javascript:void(0);" id="pNode" title="Sample page 1">Home</a>
            </li>
            <li><i class="fa fa-lg fa-angle-right"></i>
            </li>
            <li><a href="javascript:void(0);" id="cNode" title="Sample page 1">Dashboard</a>
            </li>
            <li class="pull-right">
                <div class="input-group input-widget">

                    <input style="border-radius:15px" type="text" placeholder="Search..." class="form-control">
                </div>
            </li>
        </ul>

        <!-- END OF BREADCRUMB -->

        <div class="content-wrap">
            <iframe id="mainIframe" style="border: 0; width: 100%; height: 1500px;" scrolling="no"></iframe>


            <!-- FOOTER -->
            <div class="footer-space"></div>
            <div id="footer">
                <div class="devider-footer-left"></div>
                <div class="time">
                    <p id="spanDate">
                    <p id="clock">
                </div>
                <div class="copyright">病例管理系统
                    <span class="entypo-heart"></span> <a href="#" title="病例管理系统" target="_blank">病例管理系统</a> All Rights Reserved</div>
                <div class="devider-footer"></div>
            </div>
            <!-- / END OF FOOTER -->
        </div>
    </div>
</div>
<!--  END OF PAPER WRAP -->

<!-- RIGHT SLIDER CONTENT -->
<div class="sb-slidebar sb-right">
    <div class="right-wrapper">
    </div>

    <div style="margin-top:0;" class="right-wrapper">
    </div>
</div>

<!-- END OF RIGHT SLIDER CONTENT-->
<script type="text/javascript" src="assets/js/jquery.js"></script>
<script type="text/javascript" src="assets/js/base_config.js"></script>
<script src="assets/js/progress-bar/src/jquery.velocity.min.js"></script>
<script src="assets/js/progress-bar/number-pb.js"></script>
<script src="assets/js/progress-bar/progress-app.js"></script>



<!-- MAIN EFFECT -->
<script type="text/javascript" src="assets/js/preloader.js"></script>
<script type="text/javascript" src="assets/js/bootstrap.js"></script>
<script type="text/javascript" src="assets/js/app.js"></script>
<script type="text/javascript" src="assets/js/load.js"></script>
<script type="text/javascript" src="assets/js/main.js"></script>

<!-- GAGE -->

<script type="text/javascript" src="assets/js/chart/jquery.flot.js"></script>
<script type="text/javascript" src="assets/js/chart/jquery.flot.resize.js"></script>
<!--<script type="text/javascript" src="assets/js/chart/realTime.js"></script>-->
<script type="text/javascript" src="assets/js/speed/canvasgauge-coustom.js"></script>
<script type="text/javascript" src="assets/js/countdown/jquery.countdown.js"></script>



<script src="assets/js/jhere-custom.js"></script>


<script>
    $(function(){
        loadMenuTree();
    });

    function loadMenuTree(){
        console.log('***********load menu tree**********');
        $.ajax({
            url: SERVER_ROUTER.PATH_QUERY_MENU,
            type: 'GET',
            async: false,
            dataType: 'JSON',
            success: function(data){
                console.log(data);
                if(data && data.status == SERVER_RESPONSE_CODE.OK){
                    var menus = data.data;
                    var str = '<li><a href="#" style="border-left:0px solid!important;" class="title-menu-left">';
                    str += '<span class="ushier-menu"></span>';
                    str += '<i data-toggle="tooltip" class="entypo-cog pull-right config-wrap"></i></a></li>';
                    for(var i=0; i<menus.length; i++){
                        var rootMenu = menus[i];
                        var childMenus = rootMenu.childrenList;

                        str += '<li>';

                        str += '<a class="tooltip-tip ajax-load" href="#" title="'+rootMenu.title+'">';
                        str += '<i class="'+rootMenu.icon+'"></i>';
                        str += '<span>'+rootMenu.title+'</span>';
                        str += '</a>';

                        if(childMenus != null && childMenus.length > 0){
                            str += '<ul>';
                            for(var j=0; j<childMenus.length; j++){
                                var childMenu = childMenus[j];
                                str += '<li>';
                                str += '<a class="tooltip-tip2 ajax-load" href="javascript:void(0);" onclick="tabChange(this, \''+childMenu.href+'\', \''+childMenu.title+'\')" title="'+childMenu.title+'"><i class="'+childMenu.icon+'"></i><span>'+childMenu.title+'</span></a>';

                                str += '</li>';
                            }
                            str += '</ul>';
                        }

                        str += '</li>';


                    }
                    console.log('*********************');
                    $('#menuPanel').html(str);
                }
            }
        });
    }

    function tabChange(obj, href, nodeText){
        var pNodeText = $(obj).parent().parent().prev().children('span').text();
        var totalHref = SERVER_ROUTER.PATH_BASE + href;
        console.log('pNodeText = ' + pNodeText + ', cNodeText = ' + nodeText);
        $('#pNode').text(pNodeText);
        $('#cNode').text(nodeText);
        console.log(totalHref);
//            $('#mainContent').load(totalHref);
        $('#mainIframe').attr('src', href);
    }

</script>

</body>

</html>
